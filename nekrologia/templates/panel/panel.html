<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="styles/panel.css" type="text/css"/>
    <title>Panel sterowania</title>
</head>
<body>
    <main class='container'>
        <aside class='sidebar'>
            <section class="sidebar__group">
                <section class='sidebar__group--header activity__toggle' id='openAdminGroupToggle' data-target='adminSidebarGroup'>
                    <span class='sidebar__group--name'>Administacja</span>
                    <span class='icon__expand'>&#x2228;</span>
                </section>
                <section class='sidebar__group--content' id='adminSidebarGroup'>
                    <section class='sidebar__item' id='metadataOpenner' data-target='adminUserPanel'>Użytkownicy</section>
                </section>
            </section>
            <section class="sidebar__group">
                <section class='sidebar__group--header activity__toggle' id='openGroupToggle' data-target='sidebarGroup'>
                    <span class='sidebar__group--name'>Dodaj grób</span>
                    <span class='icon__expand'>&#x2228;</span>
                </section>
                <section class='sidebar__group--content' id='sidebarGroup'>
                    <section class='sidebar__item' id='metadataOpenner' data-target='metadataPanel'>Metadane</section>
                    <section class='sidebar__item' id='editorOpenner' data-target='editorPanel'>Edytor</section>
                </section>
            </section>
            <section class='sidebar__item' id='cementaryOpenner' data-target='cementaryPanel'>Dodaj cmentarz</section>
        </aside>    
        <section class='panel__container'>
            {% if g.is_admin %}
            <section class='panel__item' id='adminUserPanel'>
                <section class='panel__inside'>
                <table class='users__table'> 
                    <thead>
                        <tr>
                            <th>Nazwa użytkownika</th>
                            <th>Email</th>
                            <th>Admin</th>
                            <th>Aktywne</th>
                            <th>Usuń</th>
                            <th>Edytuj</tr>                            
                        </tr>
                    </thead>
                    <tbody>
                        {% for user in users %}
                        <tr data-user-id="{{user['id']}}">
                            <td>{{user['username']}}</td>
                            <td>{{user['email']}}</td>
                            <td>{% if user['admin_permit'] == 1 %}<span class='yes'>Y</span>{% else %}<span class='no'>N</span>{% endif %}</td>
                            <td>{% if user['activated'] == 1 %}<span class='yes'>Y</span>{% else %}<span class='no'>N</span>{% endif %}</td>
                            <td><button class='btn__remove' data-target="{{user['id']}}">Usuń</button></td>
                            <td><button class='btn__edit' data-target="{{user['id']}}">Edytuj</button></td>                            
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                </section>
            </section>
            {% endif %}
            <section class='panel__item' id='metadataPanel'>
                <form class='panel__form'>
                    <section id='form__group'>
                        <label for="name">Imię: </label>
                        <input type="text" name="name" id='metaName' />
                        <label for="surname">Nazwisko: </label>
                        <input type="text" name="surname" id='metaSurname' />
                        <label for="title">Tytuł naukowy: </label>
                        <input type="text" name="title" id='metaTitle' placeholder = 'Tytuł naukowy'/>
                        <label for="title">Pełne imię i nazwisko wraz z tytułem naukowym: </label>
                        <input type="text" name="full_name_with_title" id='metaTitle' />
                    </section>
                    <section class="form__group">
                        <label for="date_of_birth">Data urodzenia</label>      
                        <input type="date" name="date_of_birth" id='metaBirthDate' />
                    </section>
                    <section  class='form__group'>
                        <label for="date_of_death">Data śmierci:</label>
                        <input type="date" name="date_of_death" id='metaDeathDate' />
                    </section>
                    <section class="form__group">
                        <label for="age">Wiek: </label>
                        <input type="number"/>
                    </section> 
                    <section class="form__group">
                        <label for="cementary_id">Cmentarz</label>
                        <select name="cementary_id">
                            {% for cementary in cementaries %}
                            <option value="{{cementary['id']}}">{{cementary['name']}}</option>
                            {% endfor %}
                        </select>
                    </section>
                    <section class="form__group">
                        <label for="gps_lon">Długość GPS: </label>
                        <input type="text" placeholder="GPS -- dł. w formacie xx.xxxxxx"/>
                        <label for="gps_lat">Szerokość GPS: </label>
                        <input type="text" placeholder="GPS -- szer. w formacie xx.xxxxxx"/>
                    </section> 
                        
                    <section class='form__group'>
                        <button class='panel__button--save' id='metadataPanelSaveButton'>Zapisz</button>
                    </section>
                </form>
            </section> <!-- section#metadataPanel -->
            <section class="panel__item" id="editorPanel">
                <section class='editor' id="editor">
                    <section class='editor__input' id='editorInput'>
                        
                    </section>
                    <section class='editor__preview' id='editorPreview'>

                    </section>
                </section>
                <section class='editor__bar'>
                    <button id='editorLoadPreview' class='panel__button--info'>Podgląd</button>    
                </section>
            </section> <!-- section#editorPanel -->
            <section class='panel__item' id='cementaryPanel'>
                <p>Some text</p>
                <form method='POST' id='cementaryNewForm'>
                    <section class='form__group'>
                        <label for="full_name">Nazwa cmentarza</label>
                        <input type="text" name="full_name" id="cementaryFullName"/>
                        <label for="full_address">Adres cmentarza</label>
                        <input type="text" name="full_address" id="cementaryFullAddress"/>
                        <label for="city">Miasto</label>
                        <input type="text" name="city" id="cementaryCity"/>
                        <button type="button" id="cementaryPanelSaveButton">Zapisz cmentarz</button>
                    </section>
                </form>
            </section>
        </section>
    </main>
    <!-- left sidebar --> 
    <!-- content -->
    <!-- -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="src/panel.js?version=1.1"></script>
</body>
</html>
